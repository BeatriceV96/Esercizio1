<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
  <div id="container">
    <p>Progetto settimanale!</p>
  </div>

  <div class="tabella">
  <table>
    <tr>
        <td>A</td>
        <td>B</td>
        <td>C</td>
    </tr>
    <tr>
        <td>D</td>
        <td>E</td>
        <td>F</td>
    </tr>
    <tr>
        <td>G</td>
        <td>H</td>
        <td>I</td>
    </tr>
</table>
<a href="https://www.example.com">CLICK HERE!</a>
<a href="https://www.example.com">CLICK HERE!</a>
<a href="https://www.example.com">CLICK HERE!</a>
</div>
<div class="listContainer">
<ul id="myList">
  <li>Elemento 1</li>
  <li>Elemento 2</li>
  <li>Elemento 3</li>
</ul>
</div>
    <script>
let random = Math.floor(Math.random() * 20);       //ESERCZIO B
console.log("Numero casuale generato:", random);

let me = {                              //ESERCIZIO C
  name: "Beatrice",
  surname: "Vanvitelli",
  age: "28",
}
console.log(me);  

delete me.age;                     //ESERCIZIO D
console.log(me);    

me.skills = ["HTML", "CSS", "Javascript"];    //ESERCIZIO E
console.log(me);

me.skills.push("Python");                //ESERCIZIO F
console.log(me.skills);

me.skills.pop("Python");              //ESERCIZIO G
console.log(me.skills);

function dice() {                        //ESERCIZIO 1
  return Math.floor(Math.random() * 6) + 1;
} 
console.log(dice());               

function whoIsBigger(num1, num2) {      //ESERCIZIO 2
  if(num1 > num2)  {
    return num1;
  } else {
    return num2;
  }
}
console.log(whoIsBigger(10, 5));    

function splitMe(str) {                 //ESERCIZIO 3
  return str.split(" ");
}
let stringa = "I want to be a great web developer";
console.log(splitMe(stringa));


function deleteOne(str, isFirst) {         //ESERCIZIO4
  if (isFirst) {
    return str.substring(1);
  } else {
    return str.substring(0, str.length - 1);
  }
}
let testString = "Javascript";
console.log(deleteOne(testString, true)); 
console.log(deleteOne(testString, false)); 


function onlyLetters(str) {                //ESERCIZIO 5
  let result = '';
  for (let i = 0; i < str.length; i++) {
    if (isNaN(parseInt(str[i]))) {
      result += str[i];
    }
  }
  return result;
}
console.log(onlyLetters("Ho 4 mele e 12 cavalli"));

function isThisAnEmail(str) {             //ESERCIZIO 6
  let atIndex = str.indexOf('@');
  let dotIndex = str.lastIndexOf('.');
  if (atIndex > 0 && dotIndex > atIndex + 1 && dotIndex < str.length - 1) {
    return true;
  } else {
    return false;
  }
}
console.log(isThisAnEmail("example@example.com"));
console.log(isThisAnEmail("example.com")); 
console.log(isThisAnEmail("example@example")); 

function whatDayIsIt() {             //ESERCIZIO 7
  let today = new Date();
  let day = today.getDay();
  switch (day) {
    case 0:
      return "Domenica";
    case 1:
      return "Lunedì";
    case 2:
      return "Martedì";
    case 3:
      return "Mercoledì";
    case 4:
      return "Giovedì";
    case 5:
      return "Venerdì";
    case 6:
      return "Sabato";
    default:
      return "";
  }
}
console.log (whatDayIsIt());


function rollTheDices(num) {        //ESERCIZIO 8
  let values = [];
  let sum = 0;
  for (let i = 0; i < num; i++) {
    let roll = dice();
    values.push(roll)
    sum += roll;
  }
  return {
    sum: sum,
    values: values
  };
}
console.log(rollTheDices(3));


function howManyDays(date) {      //ESERCIZIO 9
  const today = new Date(2024-0o4-12); 
  const dateToCompare = new Date(date);
  const oneDay = 1000 * 60 * 60 * 24;
  const todayInMillis = today.getTime();
  const dateToCompareInMillis = dateToCompare.getTime();
  const differenceInDays = Math.floor((todayInMillis - dateToCompareInMillis) / oneDay);
  return differenceInDays;
}

const daysPassed = howManyDays('2024-04-12'); 
console.log(daysPassed); 


function isTodayMyBirthday() {          //ESERCIZIO 10
  let today = new Date();
  let day = today.getDate();
  let month = today.getMonth() + 1; 
  if (day === 15 && month=== 1) {
    return true;
  } else {
    return false;
}
}
console.log("Is my birthday? " + isTodayMyBirthday().toString());

function deleteProp(obj, str2) {        //ESERCIZIO 11
  if (delete obj[str2]) {
    return obj;
  } else {
    return obj;
  }
}
let myObject = {
  name: "Alessandro",
  age: 30,
  city: "Edimburgo"
};
console.log(deleteProp(myObject, "age"));


const movies = [
{
    Title: 'The Lord of the Rings: The Fellowship of the Ring',
    Year: '2001',
    imdbID: 'tt0120737',
    Type: 'movie',
    Poster:
      'https://m.media-amazon.com/images/M/MV5BN2EyZjM3NzUtNWUzMi00MTgxLWI0NTctMzY4M2VlOTdjZWRiXkEyXkFqcGdeQXVyNDUzOTQ5MjY@._V1_SX300.jpg',
  },

  {
    Title: 'The Lord of the Rings: The Return of the King',
    Year: '2003',
    imdbID: 'tt0167260',
    Type: 'movie',
    Poster:
      'https://m.media-amazon.com/images/M/MV5BNzA5ZDNlZWMtM2NhNS00NDJjLTk4NDItYTRmY2EwMWZlMTY3XkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg',
  },
  {
    Title: 'The Lord of the Rings: The Two Towers',
    Year: '2002',
    imdbID: 'tt0167261',
    Type: 'movie',
    Poster:
      'https://m.media-amazon.com/images/M/MV5BNGE5MzIyNTAtNWFlMC00NDA2LWJiMjItMjc4Yjg1OWM5NzhhXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg',
  },
  {
    Title: 'Lord of War',
    Year: '2005',
    imdbID: 'tt0399295',
    Type: 'movie',
    Poster:
      'https://m.media-amazon.com/images/M/MV5BMTYzZWE3MDAtZjZkMi00MzhlLTlhZDUtNmI2Zjg3OWVlZWI0XkEyXkFqcGdeQXVyNDk3NzU2MTQ@._V1_SX300.jpg',
  },
  {
    Title: 'Lords of Dogtown',
    Year: '2005',
    imdbID: 'tt0355702',
    Type: 'movie',
    Poster:
      'https://m.media-amazon.com/images/M/MV5BNDBhNGJlOTAtM2ExNi00NmEzLWFmZTQtYTZhYTRlNjJjODhmXkEyXkFqcGdeQXVyNDk3NzU2MTQ@._V1_SX300.jpg',
  },
  {
    Title: 'The Lord of the Rings',
    Year: '1978',
    imdbID: 'tt0077869',
    Type: 'movie',
    Poster:
      'https://m.media-amazon.com/images/M/MV5BOGMyNWJhZmYtNGQxYi00Y2ZjLWJmNjktNTgzZWJjOTg4YjM3L2ltYWdlXkEyXkFqcGdeQXVyNTAyODkwOQ@@._V1_SX300.jpg',
  },
  {
    Title: 'Lord of the Flies',
    Year: '1990',
    imdbID: 'tt0100054',
    Type: 'movie',
    Poster:
      'https://m.media-amazon.com/images/M/MV5BOTI2NTQyODk0M15BMl5BanBnXkFtZTcwNTQ3NDk0NA@@._V1_SX300.jpg',
  },
  {
    Title: 'The Lords of Salem',
    Year: '2012',
    imdbID: 'tt1731697',
    Type: 'movie',
    Poster:
      'https://m.media-amazon.com/images/M/MV5BMjA2NTc5Njc4MV5BMl5BanBnXkFtZTcwNTYzMTcwOQ@@._V1_SX300.jpg',
  },
  {
    Title: 'Greystoke: The Legend of Tarzan, Lord of the Apes',
    Year: '1984',
    imdbID: 'tt0087365',
    Type: 'movie',
    Poster:
      'https://m.media-amazon.com/images/M/MV5BMTM5MzcwOTg4MF5BMl5BanBnXkFtZTgwOTQwMzQxMDE@._V1_SX300.jpg',
  },
  {
    Title: 'Lord of the Flies',
    Year: '1963',
    imdbID: 'tt0057261',
    Type: 'movie',
    Poster:
      'https://m.media-amazon.com/images/M/MV5BOGEwYTlhMTgtODBlNC00ZjgzLTk1ZmEtNmNkMTEwYTZiM2Y0XkEyXkFqcGdeQXVyMzU4Nzk4MDI@._V1_SX300.jpg',
  },
  {
    Title: 'The Avengers',
    Year: '2012',
    imdbID: 'tt0848228',
    Type: 'movie',
    Poster:
      'https://m.media-amazon.com/images/M/MV5BNDYxNjQyMjAtNTdiOS00NGYwLWFmNTAtNThmYjU5ZGI2YTI1XkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_SX300.jpg',
  },
  {
    Title: 'Avengers: Infinity War',
    Year: '2018',
    imdbID: 'tt4154756',
    Type: 'movie',
    Poster:
      'https://m.media-amazon.com/images/M/MV5BMjMxNjY2MDU1OV5BMl5BanBnXkFtZTgwNzY1MTUwNTM@._V1_SX300.jpg',
  },
  {
    Title: 'Avengers: Age of Ultron',
    Year: '2015',
    imdbID: 'tt2395427',
    Type: 'movie',
    Poster:
      'https://m.media-amazon.com/images/M/MV5BMTM4OGJmNWMtOTM4Ni00NTE3LTg3MDItZmQxYjc4N2JhNmUxXkEyXkFqcGdeQXVyNTgzMDMzMTg@._V1_SX300.jpg',
  },
  {
    Title: 'Avengers: Endgame',
    Year: '2019',
    imdbID: 'tt4154796',
    Type: 'movie',
    Poster:
      'https://m.media-amazon.com/images/M/MV5BMTc5MDE2ODcwNV5BMl5BanBnXkFtZTgwMzI2NzQ2NzM@._V1_SX300.jpg',
  },
];

function newestMovie(movies) {         //ESERCIZIO 12
  let newestMovie = movies[0]; 

  movies.forEach(film => {
    if (parseInt(film.Year) > parseInt(newestMovie.Year)) { 
      newestMovie = film;
    }
  });

  return newestMovie;
}
const newest = newestMovie(movies);
console.log(newest);

function countMovies(movies) {                //ESERCIZIO 13
  return movies.length;    
}
const numberOfMovies = countMovies(movies);
console.log("Numero di film:", numberOfMovies);

function onlyTheYears(movies) {                //ESERCIZIO 14
  const years = movies.map(movie => movie.Year);
  return years;
}
const yearsArray = onlyTheYears(movies); 
console.log(yearsArray); 


function onlyInLastMillennium(movies) {    //ESERCIZIO 15
  const currentYear = new Date().getFullYear();
  const lastMillenniumStartYear = 1000 * Math.floor((currentYear - 1) / 1000);
  const moviesInLastMillennium = movies.filter(movie => {
    const movieYear = parseInt(movie.Year);
    return movieYear >= lastMillenniumStartYear && movieYear < currentYear;
  });
  return moviesInLastMillennium;
}
const moviesLastMillennium = onlyInLastMillennium(movies);
console.log(moviesLastMillennium);


function sumAllTheYears(movies) {         //ESERCIZIO 16
  let totalYears = 0;
  movies.forEach(movie => {
    totalYears += parseInt(movie.Year);
  });
  return totalYears;
}
const totalYears = sumAllTheYears(movies);
console.log("Somma di tutti gli anni:", totalYears);


function searchByTitle(title, movies) {          //ESERCIZIO 17
  const matchedMovies = movies.filter(movie => {
    return movie.Title.toLowerCase().includes(title.toLowerCase());
  });
  return matchedMovies;
}
const searchResult = searchByTitle("Lord", movies);
console.log("Film che contengono 'Lord' nel titolo:", searchResult);


function searchAndDivide(title, movies) {         //ESERCIZIO 18
  const match = [];
  const unmatch = [];
  movies.forEach(movie => {
    if (movie.Title.toLowerCase().includes(title.toLowerCase())) {
      match.push(movie);
    } else {
      unmatch.push(movie);
    }
  });
  return { match, unmatch };
}
const result = searchAndDivide("Lord", movies);
console.log("Film che contengono 'Lord' nel titolo:", result.match);
console.log("Film che non contengono 'Lord' nel titolo:", result.unmatch);


function myFun() {                             //ESERCIZIO 20
  return document.getElementById("container");
} 
const containerElement = myFun();
console.log(containerElement);

   
function printAll_tds() {                     //ESERCIZIO 21
    const tds = document.querySelectorAll("td");
    tds.forEach(td => {
        console.log(td);
    });
}
printAll_tds();


const tdElements = document.querySelectorAll('td');    //ESERCIZIO 22
tdElements.forEach(td => {
  console.log(td.textContent);
})


const links = document.querySelectorAll('a');  //ESERCIZIO 23
links.forEach(link => {
  link.style.backgroundColor = 'pink';
});


function aggiungiElemento() {             //ESERCIZIO 24
  var nuovoElemento = document.createElement("li");
  var testo = document.createTextNode("Mi sono aggiunto da poco!");
  nuovoElemento.appendChild(testo);
  var lista = document.getElementById("myList");
  lista.appendChild(nuovoElemento);
}
aggiungiElemento();


    </script>
</body>
</html>